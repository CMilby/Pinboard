(this.webpackJsonppinboard=this.webpackJsonppinboard||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(35)},,,,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),s=n(15),a=n.n(s),c=n(5),l=n(6),h=n(8),r=n(7),d=n(2),u=n(9),w=n(12),p=(n(23),n(24),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(r.a)(t).call(this,e))).textAreaRef=Object(i.createRef)(),n.handleMouseDownHeader=n.handleMouseDownHeader.bind(Object(d.a)(n)),n.handleMouseDownResize=n.handleMouseDownResize.bind(Object(d.a)(n)),n.handleTextAreaInput=n.handleTextAreaInput.bind(Object(d.a)(n)),n.handleTitleInput=n.handleTitleInput.bind(Object(d.a)(n)),n.handleCloseClick=n.handleCloseClick.bind(Object(d.a)(n)),n.handleOnFocus=n.handleOnFocus.bind(Object(d.a)(n)),n.handleLockUnlockPosition=n.handleLockUnlockPosition.bind(Object(d.a)(n)),n.handleLockUnlockResize=n.handleLockUnlockResize.bind(Object(d.a)(n)),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleMouseDownHeader",value:function(e){this.props.window.pos_lock||e.target.classList.contains("ignore-mousedown")||this.props.onMouseDown(this.props.window.id,e.clientX,e.clientY,"move")}},{key:"handleMouseDownResize",value:function(e){this.props.onMouseDown(this.props.window.id,e.clientX,e.clientY,"resize")}},{key:"handleTextAreaInput",value:function(e){this.props.onTextAreaChange(this.props.window.id,e.target.value)}},{key:"handleTitleInput",value:function(e){this.props.onTitleChange(this.props.window.id,e.target.value)}},{key:"handleCloseClick",value:function(){this.props.onCloseClick(this.props.window.id)}},{key:"handleOnFocus",value:function(){this.props.onFocusRecieved(this.props.window.id)}},{key:"handleLockUnlockPosition",value:function(){this.props.onLockUnlockPosition(this.props.window.id)}},{key:"handleLockUnlockResize",value:function(){this.props.onLockUnlockSize(this.props.window.id)}},{key:"render",value:function(){var e=o.a.createElement("svg",{viewBox:"0 0 640 640",width:64,height:64,className:"resize-area resize-area-".concat(this.props.theme),style:{position:"absolute",right:"".concat(1,"px"),bottom:"".concat(1,"px"),width:"".concat(12,"px"),height:"".concat(12,"px")},onMouseDown:this.handleMouseDownResize},o.a.createElement("path",{id:"audlY2A0S",d:"M674.58 -29.79L719.83 15.46L12.72 722.57L-32.53 677.31L674.58 -29.79Z"}));return o.a.createElement("div",{style:{position:"fixed",left:this.props.window.x,top:this.props.window.y,width:"".concat(this.props.window.width,"px"),height:"".concat(this.props.window.height,"px")},onClick:this.handleOnFocus},o.a.createElement(w.b,{id:"ctx_men_trig_".concat(this.props.window.id)},o.a.createElement("table",{className:"window-root window-root-".concat(this.props.theme),style:{width:"".concat(this.props.window.width,"px"),height:"".concat(this.props.window.height,"px")}},o.a.createElement("thead",{className:"window-head window-head-".concat(this.props.theme),onMouseDown:this.handleMouseDownHeader},o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("div",null,o.a.createElement("span",{style:{float:"left",width:"".concat(this.props.window.width-40,"px")}},o.a.createElement("input",{type:"text",className:"window-title window-title-".concat(this.props.theme),placeholder:"Title",value:this.props.window.title,onChange:this.handleTitleInput})),o.a.createElement("span",{style:{float:"right"}},o.a.createElement("button",{className:"x-button x-button-".concat(this.props.theme," ignore-mousedown"),onClick:this.handleCloseClick},"x")))))),o.a.createElement("tbody",{className:"window-body window-body-".concat(this.props.theme)},o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("textarea",{ref:this.textAreaRef,className:"window-text-area window-text-area-".concat(this.props.theme),placeholder:"Enter some text...",spellCheck:!1,style:{width:"".concat(this.props.window.width-20,"px")},value:this.props.window.text,onChange:this.handleTextAreaInput})))))),!this.props.window.size_lock&&e,o.a.createElement(w.a,{id:"ctx_men_trig_".concat(this.props.window.id),className:"react-contextmenu-".concat(this.props.theme)},o.a.createElement(w.c,{onClick:this.handleLockUnlockPosition,className:"react-contextmenu-item-".concat(this.props.theme)},this.props.window.pos_lock?"Unlock Position":"Lock Position"),o.a.createElement(w.c,{onClick:this.handleLockUnlockResize,className:"react-contextmenu-item-".concat(this.props.theme)},this.props.window.size_lock?"Unlock Resize":"Lock Resize")))}}]),t}(i.Component)),m=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Math.abs(this.props.width)<100||Math.abs(this.props.height)<100?"#db4646":"#72ad79",t=this.props.x,n=this.props.width;n<0&&(t+=n,n=-n);var i=this.props.y,s=this.props.height;return s<0&&(i+=s,s=-s),o.a.createElement("div",{style:{position:"fixed",left:t,top:i,width:"".concat(n,"px"),height:"".concat(s,"px"),backgroundColor:e,opacity:.5}})}}]),t}(i.Component),f=n(10),k=n(11),v=(n(28),n(29),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(r.a)(t).call(this,e))).handleUndoButtonClick=n.handleUndoButtonClick.bind(Object(d.a)(n)),n.handleHelpButtonClick=n.handleHelpButtonClick.bind(Object(d.a)(n)),n.handleContactButtonClick=n.handleContactButtonClick.bind(Object(d.a)(n)),n.handleCodeButtonClick=n.handleCodeButtonClick.bind(Object(d.a)(n)),n.handleThemeButtonClick=n.handleThemeButtonClick.bind(Object(d.a)(n)),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleUndoButtonClick",value:function(){this.props.onUndo()}},{key:"handleHelpButtonClick",value:function(){this.props.createHelpWindow()}},{key:"handleContactButtonClick",value:function(){this.props.createWindow("Contact","Get in touch! Send me an email at\ncmilby99@gmail.com",75,75,300,85)}},{key:"handleCodeButtonClick",value:function(){this.props.createWindow("Source Code","The code for Pinboard is completely open source and can be viewed at\n\nhttps://github.com/CMilby/Pinboard\n\nFeel free to file an issue, make a pull request, or fork the code for your own projects!",100,100,300,175)}},{key:"handleThemeButtonClick",value:function(){this.props.toggleThemeSelection()}},{key:"render",value:function(){var e=this.props.historySize>0?"undo-notempty-".concat(this.props.theme):"undo-empty-".concat(this.props.theme);return o.a.createElement("div",{className:"menu menu-".concat(this.props.theme),style:{position:"absolute",top:"0px",right:"0px",width:"208px"}},o.a.createElement("span",{className:"menu-span menu-span-".concat(this.props.theme)},o.a.createElement("button",{onClick:this.handleUndoButtonClick},o.a.createElement(f.a,{className:"fa-lg ".concat(e),icon:k.e,fixedWidth:!0})),o.a.createElement("span",null),o.a.createElement("button",{onClick:this.handleThemeButtonClick},o.a.createElement(f.a,{className:"fa-lg",icon:k.c,fixedWidth:!0})),o.a.createElement("span",null),o.a.createElement("button",{onClick:this.handleHelpButtonClick},o.a.createElement(f.a,{className:"fa-lg",icon:k.d,fixedWidth:!0})),o.a.createElement("span",null),o.a.createElement("button",{onClick:this.handleContactButtonClick},o.a.createElement(f.a,{className:"fa-lg",icon:k.b,fixedWidth:!0})),o.a.createElement("span",null),o.a.createElement("button",{onClick:this.handleCodeButtonClick},o.a.createElement(f.a,{className:"fa-lg",icon:k.a,fixedWidth:!0}))))}}]),t}(i.Component)),y=(n(30),n(31),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"theme-root theme-root-".concat(this.props.theme),style:{position:"absolute",top:"36px",right:"112px",height:"32px",width:"94px"}},o.a.createElement("div",{className:"theme theme-darktheme",onClick:function(){return e.props.setTheme("dark")}}),o.a.createElement("div",{className:"theme theme-pinktheme",onClick:function(){return e.props.setTheme("pink")}}),o.a.createElement("div",{className:"theme theme-lighttheme",onClick:function(){return e.props.setTheme("light")}}))}}]),t}(i.Component)),b=(n(32),n(33),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(r.a)(t).call(this,e))).lastKeypressTimeTitle=0,n.windowsFirstKeypressTitle=[],n.titleTimeout=null,n.lastKeypressTimeText=0,n.windowsFirstKeypressText=[],n.textTimeout=null,n.state={windows:[],history:[],window_event:{event:"none",offset_x:0,offset_y:0,id:-1,original:null},create:{creating:!1,start_x:-1,start_y:-1,width:0,height:0},show_theme_selection:!1,theme:"dark"},n.handleMouseDown=n.handleMouseDown.bind(Object(d.a)(n)),n.handleMouseUp=n.handleMouseUp.bind(Object(d.a)(n)),n.handleMouseMove=n.handleMouseMove.bind(Object(d.a)(n)),n.onMouseDownWindowHeader=n.onMouseDownWindowHeader.bind(Object(d.a)(n)),n.onTextChange=n.onTextChange.bind(Object(d.a)(n)),n.onTitleChange=n.onTitleChange.bind(Object(d.a)(n)),n.onCloseClick=n.onCloseClick.bind(Object(d.a)(n)),n.onFocusReceived=n.onFocusReceived.bind(Object(d.a)(n)),n.onLockUnlockPosition=n.onLockUnlockPosition.bind(Object(d.a)(n)),n.onLockUnlockSize=n.onLockUnlockSize.bind(Object(d.a)(n)),n.undo=n.undo.bind(Object(d.a)(n)),n.createWindow=n.createWindow.bind(Object(d.a)(n)),n.createHelpWindow=n.createHelpWindow.bind(Object(d.a)(n)),n.toggleThemeSelection=n.toggleThemeSelection.bind(Object(d.a)(n)),n.setTheme=n.setTheme.bind(Object(d.a)(n)),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("save");if(null!==e){var t=JSON.parse(e);0===t.length?this.createHelpWindow():this.setState({windows:t})}else this.createHelpWindow();var n=localStorage.getItem("history");null!==n&&this.setState({history:JSON.parse(n)});var i=localStorage.getItem("theme");null!==i&&this.setState({theme:i})}},{key:"componentWillUnmount",value:function(){this.save()}},{key:"handleMouseDown",value:function(e){if("none"===this.state.window_event.event){var t=this.state.create;t.creating=!0,t.start_x=e.clientX,t.start_y=e.clientY,this.setState({create:t})}}},{key:"handleMouseUp",value:function(){if("none"!==this.state.window_event.event){var e=this.state.window_event;JSON.stringify(this.state.windows)!==JSON.stringify(e.original)&&this.pushWindowsToHistory(e.original),e.id=-1,e.event="none",e.offset_x=0,e.offset_y=0,e.original=null,this.setState({window_event:e}),this.save()}if(this.state.create.creating){var t=this.state.create,n=this.state.windows;if(Math.abs(t.width)>=100&&Math.abs(t.height)>=100){var i=t.start_x,o=t.width;o<0&&(i+=o,o=-o);var s=t.start_y,a=t.height;a<0&&(s+=a,a=-a),this.createWindow("New Pin","",i,s,o,a)}t.creating=!1,t.start_x=-1,t.start_y=-1,t.width=0,t.height=0,this.setState({create:t,windows:n}),this.saveWindows(n)}}},{key:"handleMouseMove",value:function(e){if("move"===this.state.window_event.event){var t=this.state.window_event,n=this.state.windows,i=t.id,o=n.indexOf(n.filter((function(e){return e.id===i}))[0]);n[o].x=e.clientX-t.offset_x,n[o].y=e.clientY-t.offset_y,this.setState({windows:n})}if("resize"===this.state.window_event.event){var s=this.state.window_event,a=this.state.windows,c=s.id,l=a.indexOf(a.filter((function(e){return e.id===c}))[0]);a[l].width=Math.max(e.clientX-a[l].x-s.offset_x,100),a[l].height=Math.max(e.clientY-a[l].y-s.offset_y,100),this.setState({windows:a})}if(this.state.create.creating){var h=this.state.create;h.width=e.clientX-h.start_x,h.height=e.clientY-h.start_y,this.setState({create:h})}}},{key:"onMouseDownWindowHeader",value:function(e,t,n,i){var o=this.state.window_event,s=this.state.windows,a=s.indexOf(s.filter((function(t){return t.id===e}))[0]);o.event=i,o.id=e,o.original=JSON.parse(JSON.stringify(s)),"move"===i?(o.offset_x=t-s[a].x,o.offset_y=n-s[a].y):"resize"===i&&(o.offset_x=t-s[a].x-s[a].width,o.offset_y=n-s[a].y-s[a].height),this.moveToFrontByIndex(a),this.setState({window_event:o})}},{key:"onTitleChange",value:function(e,t){var n=this.state.windows,i=n.indexOf(n.filter((function(t){return t.id===e}))[0]);this.lastKeypressTimeTitle=Date.now(),null===this.titleTimeout?this.windowsFirstKeypressTitle=JSON.parse(JSON.stringify(n)):clearTimeout(this.titleTimeout),this.titleTimeout=setTimeout(this.pushWindowsToHistoryTime.bind(this,this.windowsFirstKeypressTitle,"title"),500),n[i].title=t,this.saveWindows(n),this.setState({windows:n})}},{key:"onTextChange",value:function(e,t){var n=this.state.windows,i=n.indexOf(n.filter((function(t){return t.id===e}))[0]);this.lastKeypressTimeText=Date.now(),null===this.textTimeout?this.windowsFirstKeypressText=JSON.parse(JSON.stringify(n)):clearTimeout(this.textTimeout),this.textTimeout=setTimeout(this.pushWindowsToHistoryTime.bind(this,this.windowsFirstKeypressText,"text"),500),n[i].text=t,this.saveWindows(n),this.setState({windows:n})}},{key:"onFocusReceived",value:function(e){this.moveToFront(e)}},{key:"onCloseClick",value:function(e){this.pushToHistory();var t=this.state.windows,n=t.indexOf(t.filter((function(t){return t.id===e}))[0]);t.splice(n,1),this.saveWindows(t),this.setState({windows:t})}},{key:"onLockUnlockPosition",value:function(e){this.pushToHistory();var t=this.state.windows,n=t.indexOf(t.filter((function(t){return t.id===e}))[0]);t[n].pos_lock=!t[n].pos_lock,this.saveWindows(t),this.moveToFrontByIndex(n)}},{key:"onLockUnlockSize",value:function(e){this.pushToHistory();var t=this.state.windows,n=t.indexOf(t.filter((function(t){return t.id===e}))[0]);t[n].size_lock=!t[n].size_lock,this.saveWindows(t),this.moveToFrontByIndex(n)}},{key:"moveToFront",value:function(e){var t=this.state.windows,n=t.filter((function(t){return t.id===e}));if(0!==n.length){var i=t.indexOf(n[0]);t.push(t.splice(i,1)[0]),this.setState({windows:t})}}},{key:"moveToFrontByIndex",value:function(e){var t=this.state.windows;t.push(t.splice(e,1)[0]),this.setState({windows:t})}},{key:"createHelpWindow",value:function(){this.createWindow("Pinboard Help","Pinboard is a not taking app that allows you to draw new windows to take notes in. Click on the windows title to rename the window or click on the window body to type in the note. Click and drag your mouse anywhere else to create a new window. Drag from a window's lower right corner to resize your window or click and drag in the window title to move it around. Right click on a window to lock the size or position and then right click again to unlock it. All changes are saved to local storage so all your notes will be kept even when you close the window.\n\nClick on the palette icon to change Pinboard's theme or the undo button to undo the most recent changes you've made.\n\nFind a bug? Let me know! Send me an email to cmilby99@gmail.com or see the code yourself at http://github.com/CMilby/Pinboard and file an issue.",50,50,600,265)}},{key:"createWindow",value:function(e,t,n,i,o,s){this.pushToHistory();var a=this.state.windows;a.push({id:Date.now(),x:n,y:i,width:o,height:s,title:e,text:t,pos_lock:!1,size_lock:!1}),this.saveWindows(a),this.setState({windows:a})}},{key:"undo",value:function(){var e=this.state.history;if(0!==e.length){var t=e.pop();this.setState({windows:t,history:e}),this.saveWindows(t),localStorage.setItem("history",JSON.stringify(e))}}},{key:"pushToHistory",value:function(){var e=this.state.history,t=this.state.windows;e.push(JSON.parse(JSON.stringify(t))),this.setState({history:e}),localStorage.setItem("history",JSON.stringify(e))}},{key:"pushWindowsToHistory",value:function(e){var t=this.state.history;t.push(e),this.setState({history:t}),localStorage.setItem("history",JSON.stringify(t))}},{key:"pushWindowsToHistoryTime",value:function(e,t){if("title"===t){if(this.lastKeypressTimeTitle+500>Date.now())return;this.titleTimeout=null}else if("text"===t){if(this.lastKeypressTimeText+500>Date.now())return;this.textTimeout=null}var n=this.state.history;n.push(e),this.setState({history:n}),localStorage.setItem("history",JSON.stringify(n))}},{key:"save",value:function(){localStorage.setItem("save",JSON.stringify(this.state.windows))}},{key:"saveWindows",value:function(e){localStorage.setItem("save",JSON.stringify(e))}},{key:"toggleThemeSelection",value:function(){this.setState((function(e){return{show_theme_selection:!e.show_theme_selection}}))}},{key:"setTheme",value:function(e){this.setState({theme:e}),localStorage.setItem("theme",e)}},{key:"render",value:function(){var e=this,t=this.state.windows.map((function(t,n){return o.a.createElement(p,{key:"window_".concat(t.id),window:t,theme:e.state.theme,onMouseDown:e.onMouseDownWindowHeader,onTextAreaChange:e.onTextChange,onTitleChange:e.onTitleChange,onCloseClick:e.onCloseClick,onLockUnlockPosition:e.onLockUnlockPosition,onLockUnlockSize:e.onLockUnlockSize,onFocusRecieved:e.onFocusReceived})})),n=o.a.createElement(m,{x:this.state.create.start_x,y:this.state.create.start_y,width:this.state.create.width,height:this.state.create.height}),i=o.a.createElement(y,{theme:this.state.theme,setTheme:this.setTheme});return o.a.createElement("div",{className:"app-root app-root-".concat(this.state.theme," no-select"),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},t,this.state.create.creating&&n,o.a.createElement(v,{historySize:this.state.history.length,theme:this.state.theme,createWindow:this.createWindow,createHelpWindow:this.createHelpWindow,onUndo:this.undo,toggleThemeSelection:this.toggleThemeSelection}),this.state.show_theme_selection&&i)}}]),t}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(34);a.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[16,1,2]]]);
//# sourceMappingURL=main.4b6502c6.chunk.js.map