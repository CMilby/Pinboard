{"version":3,"sources":["components/Window.tsx","constants/index.js","components/CreateWindow.tsx","components/Menu.tsx","components/ThemeSelection.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["WindowComponent","props","textAreaRef","createRef","handleMouseDownHeader","bind","handleMouseDownResize","handleTextAreaInput","handleTitleInput","handleCloseClick","handleOnFocus","handleLockUnlockPosition","handleLockUnlockResize","e","this","window","pos_lock","target","classList","contains","onMouseDown","id","clientX","clientY","onTextAreaChange","value","onTitleChange","onCloseClick","onFocusRecieved","onLockUnlockPosition","onLockUnlockSize","resize","viewBox","width","height","className","theme","style","position","right","bottom","d","left","x","top","y","onClick","float","type","placeholder","title","onChange","ref","spellCheck","text","size_lock","Component","CreateWindow","color","Math","abs","backgroundColor","opacity","Menu","handleUndoButtonClick","handleHelpButtonClick","handleContactButtonClick","handleCodeButtonClick","handleThemeButtonClick","onUndo","createHelpWindow","createWindow","toggleThemeSelection","undoColor","historySize","icon","faUndo","fixedWidth","faPalette","faQuestionCircle","faEnvelope","faCode","ThemeSelection","setTheme","App","lastKeypressTimeTitle","windowsFirstKeypressTitle","titleTimeout","lastKeypressTimeText","windowsFirstKeypressText","textTimeout","state","windows","history","window_event","event","offset_x","offset_y","original","create","creating","start_x","start_y","show_theme_selection","handleMouseDown","handleMouseUp","handleMouseMove","onMouseDownWindowHeader","onTextChange","onFocusReceived","undo","localStorage","getItem","windowObj","JSON","parse","length","setState","save","stringify","pushWindowsToHistory","saveWindows","index","indexOf","filter","max","startX","startY","moveToFrontByIndex","newText","Date","now","clearTimeout","setTimeout","pushWindowsToHistoryTime","moveToFront","pushToHistory","splice","filterWindows","push","mostRecent","pop","setItem","timeout","prevState","map","key","themeSelection","onMouseMove","onMouseUp","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4b6502c6.chunk.js","sourcesContent":["import React, { Component, createRef } from \"react\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\nimport { RESIZER_OFFSET, RESIZER_SIZE } from \"../constants\";\r\n\r\nimport \"../css/Window.css\";\r\nimport \"../css/WindowTheme.css\";\r\n\r\nexport type Window = {\r\n\tid: number;\r\n\r\n\tx: number;\r\n\ty: number;\r\n\twidth: number;\r\n\theight: number;\r\n\r\n\ttitle: string;\r\n\ttext: string;\r\n\r\n\tpos_lock: boolean;\r\n\tsize_lock: boolean;\r\n};\r\n\r\ninterface IWindowProps {\r\n\twindow: Window;\r\n\ttheme: string;\r\n\r\n\tonMouseDown: (\r\n\t\tid: number,\r\n\t\tstartX: number,\r\n\t\tstartY: number,\r\n\t\tevent: \"move\" | \"resize\"\r\n\t) => void;\r\n\r\n\tonTextAreaChange: (id: number, newText: string) => void;\r\n\tonTitleChange: (id: number, newText: string) => void;\r\n\r\n\tonCloseClick: (id: number) => void;\r\n\tonLockUnlockPosition: (id: number) => void;\r\n\tonLockUnlockSize: (id: number) => void;\r\n\r\n\tonFocusRecieved: (id: number) => void;\r\n}\r\n\r\ninterface IWindowState {}\r\n\r\nexport default class WindowComponent extends Component<\r\n\tIWindowProps,\r\n\tIWindowState\r\n> {\r\n\tprivate textAreaRef = createRef<HTMLTextAreaElement>();\r\n\r\n\tconstructor(props: any) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleMouseDownHeader = this.handleMouseDownHeader.bind(this);\r\n\t\tthis.handleMouseDownResize = this.handleMouseDownResize.bind(this);\r\n\t\tthis.handleTextAreaInput = this.handleTextAreaInput.bind(this);\r\n\t\tthis.handleTitleInput = this.handleTitleInput.bind(this);\r\n\t\tthis.handleCloseClick = this.handleCloseClick.bind(this);\r\n\t\tthis.handleOnFocus = this.handleOnFocus.bind(this);\r\n\r\n\t\tthis.handleLockUnlockPosition = this.handleLockUnlockPosition.bind(\r\n\t\t\tthis\r\n\t\t);\r\n\t\tthis.handleLockUnlockResize = this.handleLockUnlockResize.bind(this);\r\n\t}\r\n\r\n\thandleMouseDownHeader(e: any) {\r\n\t\tif (this.props.window.pos_lock) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (e.target.classList.contains(\"ignore-mousedown\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.onMouseDown(\r\n\t\t\tthis.props.window.id,\r\n\t\t\te.clientX,\r\n\t\t\te.clientY,\r\n\t\t\t\"move\"\r\n\t\t);\r\n\t}\r\n\r\n\thandleMouseDownResize(e: any) {\r\n\t\tthis.props.onMouseDown(\r\n\t\t\tthis.props.window.id,\r\n\t\t\te.clientX,\r\n\t\t\te.clientY,\r\n\t\t\t\"resize\"\r\n\t\t);\r\n\t}\r\n\r\n\thandleTextAreaInput(e: any) {\r\n\t\tthis.props.onTextAreaChange(this.props.window.id, e.target.value);\r\n\t}\r\n\r\n\thandleTitleInput(e: any) {\r\n\t\tthis.props.onTitleChange(this.props.window.id, e.target.value);\r\n\t}\r\n\r\n\thandleCloseClick() {\r\n\t\tthis.props.onCloseClick(this.props.window.id);\r\n\t}\r\n\r\n\thandleOnFocus() {\r\n\t\tthis.props.onFocusRecieved(this.props.window.id);\r\n\t}\r\n\r\n\thandleLockUnlockPosition() {\r\n\t\tthis.props.onLockUnlockPosition(this.props.window.id);\r\n\t}\r\n\r\n\thandleLockUnlockResize() {\r\n\t\tthis.props.onLockUnlockSize(this.props.window.id);\r\n\t}\r\n\r\n\trender() {\r\n\t\t// let resize = (\r\n\t\t// \t<img\r\n\t\t// \t\tclassName={`resize-area corner-img resize-area-${this.props.theme}`}\r\n\t\t// \t\tdraggable={false}\r\n\t\t// \t\tstyle={{\r\n\t\t// \t\t\tposition: \"absolute\",\r\n\t\t// \t\t\tright: `${RESIZER_OFFSET}px`,\r\n\t\t// \t\t\tbottom: `${RESIZER_OFFSET}px`,\r\n\t\t// \t\t\twidth: `${RESIZER_SIZE}px`,\r\n\t\t// \t\t\theight: `${RESIZER_SIZE}px`\r\n\t\t// \t\t}}\r\n\t\t// \t\tsrc={CornerIcon}\r\n\t\t// \t\talt=\"\"\r\n\t\t// \t\tonMouseDown={this.handleMouseDownResize}\r\n\t\t// \t/>\r\n\t\t// );\r\n\r\n\t\tlet resize = (\r\n\t\t\t<svg\r\n\t\t\t\tviewBox=\"0 0 640 640\"\r\n\t\t\t\twidth={64}\r\n\t\t\t\theight={64}\r\n\t\t\t\tclassName={`resize-area resize-area-${this.props.theme}`}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tright: `${RESIZER_OFFSET}px`,\r\n\t\t\t\t\tbottom: `${RESIZER_OFFSET}px`,\r\n\t\t\t\t\twidth: `${RESIZER_SIZE}px`,\r\n\t\t\t\t\theight: `${RESIZER_SIZE}px`\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseDown={this.handleMouseDownResize}\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tid=\"audlY2A0S\"\r\n\t\t\t\t\td=\"M674.58 -29.79L719.83 15.46L12.72 722.57L-32.53 677.31L674.58 -29.79Z\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\tleft: this.props.window.x,\r\n\t\t\t\t\ttop: this.props.window.y,\r\n\t\t\t\t\twidth: `${this.props.window.width}px`,\r\n\t\t\t\t\theight: `${this.props.window.height}px`\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={this.handleOnFocus}\r\n\t\t\t>\r\n\t\t\t\t<ContextMenuTrigger id={`ctx_men_trig_${this.props.window.id}`}>\r\n\t\t\t\t\t<table\r\n\t\t\t\t\t\tclassName={`window-root window-root-${this.props.theme}`}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: `${this.props.window.width}px`,\r\n\t\t\t\t\t\t\theight: `${this.props.window.height}px`\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<thead\r\n\t\t\t\t\t\t\tclassName={`window-head window-head-${this.props.theme}`}\r\n\t\t\t\t\t\t\tonMouseDown={this.handleMouseDownHeader}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfloat: \"left\",\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: `${this.props.window\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.width - 40}px`\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`window-title window-title-${this.props.theme}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Title\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.props.window.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTitleInput}\r\n\t\t\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<span style={{ float: \"right\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`x-button x-button-${this.props.theme} ignore-mousedown`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleCloseClick}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody\r\n\t\t\t\t\t\t\tclassName={`window-body window-body-${this.props.theme}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\tref={this.textAreaRef}\r\n\t\t\t\t\t\t\t\t\t\tclassName={`window-text-area window-text-area-${this.props.theme}`}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter some text...\"\r\n\t\t\t\t\t\t\t\t\t\tspellCheck={false}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: `${this.props.window.width -\r\n\t\t\t\t\t\t\t\t\t\t\t\t20}px`\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.props.window.text}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleTextAreaInput}\r\n\t\t\t\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</ContextMenuTrigger>\r\n\t\t\t\t{!this.props.window.size_lock && resize}\r\n\r\n\t\t\t\t<ContextMenu\r\n\t\t\t\t\tid={`ctx_men_trig_${this.props.window.id}`}\r\n\t\t\t\t\tclassName={`react-contextmenu-${this.props.theme}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\tonClick={this.handleLockUnlockPosition}\r\n\t\t\t\t\t\tclassName={`react-contextmenu-item-${this.props.theme}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.props.window.pos_lock\r\n\t\t\t\t\t\t\t? \"Unlock Position\"\r\n\t\t\t\t\t\t\t: \"Lock Position\"}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\tonClick={this.handleLockUnlockResize}\r\n\t\t\t\t\t\tclassName={`react-contextmenu-item-${this.props.theme}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.props.window.size_lock\r\n\t\t\t\t\t\t\t? \"Unlock Resize\"\r\n\t\t\t\t\t\t\t: \"Lock Resize\"}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t</ContextMenu>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","export const MIN_WINDOW_WIDTH = 100;\r\nexport const MIN_WINDOW_HEIGHT = 100;\r\n\r\nexport const RESIZER_SIZE = 12;\r\nexport const RESIZER_OFFSET = 1;\r\n\r\nexport const HEADER_SIZE = 30;\r\n\r\nexport const SAVE_KEY = \"save\";\r\nexport const SAVE_HISTORY_KEY = \"history\";\r\nexport const SAVE_THEME_KEY = \"theme\";\r\n\r\nexport const KEYPRESS_HISTORY_INTERVAL_MS = 500;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { MIN_WINDOW_WIDTH, MIN_WINDOW_HEIGHT } from \"../constants\";\r\n\r\ninterface ICreateWindowProps {\r\n\tx: number;\r\n\ty: number;\r\n\twidth: number;\r\n\theight: number;\r\n}\r\n\r\ninterface ICreateWindowState {}\r\n\r\nexport default class CreateWindow extends Component<\r\n\tICreateWindowProps,\r\n\tICreateWindowState\r\n> {\r\n\trender() {\r\n\t\tlet color =\r\n\t\t\tMath.abs(this.props.width) < MIN_WINDOW_WIDTH ||\r\n\t\t\tMath.abs(this.props.height) < MIN_WINDOW_HEIGHT\r\n\t\t\t\t? \"#db4646\"\r\n\t\t\t\t: \"#72ad79\";\r\n\r\n\t\tlet x = this.props.x;\r\n\t\tlet width = this.props.width;\r\n\t\tif (width < 0) {\r\n\t\t\tx += width;\r\n\t\t\twidth = -width;\r\n\t\t}\r\n\r\n\t\tlet y = this.props.y;\r\n\t\tlet height = this.props.height;\r\n\t\tif (height < 0) {\r\n\t\t\ty += height;\r\n\t\t\theight = -height;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\tleft: x,\r\n\t\t\t\t\ttop: y,\r\n\t\t\t\t\twidth: `${width}px`,\r\n\t\t\t\t\theight: `${height}px`,\r\n\t\t\t\t\tbackgroundColor: color,\r\n\t\t\t\t\topacity: 0.5\r\n\t\t\t\t}}\r\n\t\t\t></div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n\tfaUndo,\r\n\tfaCode,\r\n\tfaQuestionCircle,\r\n\tfaEnvelope,\r\n\tfaPalette\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport \"../css/Menu.css\";\r\nimport \"../css/MenuTheme.css\";\r\n\r\ninterface IMenuProps {\r\n\thistorySize: number;\r\n\ttheme: string;\r\n\r\n\tcreateWindow: (\r\n\t\ttitle: string,\r\n\t\ttext: string,\r\n\t\tx: number,\r\n\t\ty: number,\r\n\t\twidth: number,\r\n\t\theight: number\r\n\t) => void;\r\n\tcreateHelpWindow: () => void;\r\n\r\n\tonUndo: () => void;\r\n\r\n\ttoggleThemeSelection: () => void;\r\n}\r\n\r\ninterface IMenuState {}\r\n\r\nexport default class Menu extends Component<IMenuProps, IMenuState> {\r\n\tconstructor(props: any) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleUndoButtonClick = this.handleUndoButtonClick.bind(this);\r\n\t\tthis.handleHelpButtonClick = this.handleHelpButtonClick.bind(this);\r\n\t\tthis.handleContactButtonClick = this.handleContactButtonClick.bind(\r\n\t\t\tthis\r\n\t\t);\r\n\t\tthis.handleCodeButtonClick = this.handleCodeButtonClick.bind(this);\r\n\t\tthis.handleThemeButtonClick = this.handleThemeButtonClick.bind(this);\r\n\t}\r\n\r\n\thandleUndoButtonClick() {\r\n\t\tthis.props.onUndo();\r\n\t}\r\n\r\n\thandleHelpButtonClick() {\r\n\t\tthis.props.createHelpWindow();\r\n\t}\r\n\r\n\thandleContactButtonClick() {\r\n\t\tthis.props.createWindow(\r\n\t\t\t\"Contact\",\r\n\t\t\t\"Get in touch! Send me an email at\\ncmilby99@gmail.com\",\r\n\t\t\t75,\r\n\t\t\t75,\r\n\t\t\t300,\r\n\t\t\t85\r\n\t\t);\r\n\t}\r\n\r\n\thandleCodeButtonClick() {\r\n\t\tthis.props.createWindow(\r\n\t\t\t\"Source Code\",\r\n\t\t\t\"The code for Pinboard is completely open source and can be viewed at\\n\\n\" +\r\n\t\t\t\t\"https://github.com/CMilby/Pinboard\\n\\nFeel free to file an issue, make \" +\r\n\t\t\t\t\"a pull request, or fork the code for your own projects!\",\r\n\t\t\t100,\r\n\t\t\t100,\r\n\t\t\t300,\r\n\t\t\t175\r\n\t\t);\r\n\t}\r\n\r\n\thandleThemeButtonClick() {\r\n\t\tthis.props.toggleThemeSelection();\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet undoColor =\r\n\t\t\tthis.props.historySize > 0\r\n\t\t\t\t? `undo-notempty-${this.props.theme}`\r\n\t\t\t\t: `undo-empty-${this.props.theme}`;\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={`menu menu-${this.props.theme}`}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: \"0px\",\r\n\t\t\t\t\tright: \"0px\",\r\n\t\t\t\t\twidth: \"208px\"\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<span className={`menu-span menu-span-${this.props.theme}`}>\r\n\t\t\t\t\t<button onClick={this.handleUndoButtonClick}>\r\n\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\tclassName={`fa-lg ${undoColor}`}\r\n\t\t\t\t\t\t\ticon={faUndo}\r\n\t\t\t\t\t\t\tfixedWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<span />\r\n\t\t\t\t\t<button onClick={this.handleThemeButtonClick}>\r\n\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\tclassName=\"fa-lg\"\r\n\t\t\t\t\t\t\ticon={faPalette}\r\n\t\t\t\t\t\t\tfixedWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<span />\r\n\t\t\t\t\t<button onClick={this.handleHelpButtonClick}>\r\n\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\tclassName=\"fa-lg\"\r\n\t\t\t\t\t\t\ticon={faQuestionCircle}\r\n\t\t\t\t\t\t\tfixedWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<span />\r\n\t\t\t\t\t<button onClick={this.handleContactButtonClick}>\r\n\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\tclassName=\"fa-lg\"\r\n\t\t\t\t\t\t\ticon={faEnvelope}\r\n\t\t\t\t\t\t\tfixedWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<span />\r\n\t\t\t\t\t<button onClick={this.handleCodeButtonClick}>\r\n\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\tclassName=\"fa-lg\"\r\n\t\t\t\t\t\t\ticon={faCode}\r\n\t\t\t\t\t\t\tfixedWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"../css/ThemeSelection.css\";\r\nimport \"../css/ThemeSelectionTheme.css\";\r\n\r\ninterface IThemeSelectionProps {\r\n\ttheme: string;\r\n\r\n\tsetTheme: (theme: string) => void;\r\n}\r\n\r\ninterface IThemeSelectionState {}\r\n\r\nexport default class ThemeSelection extends Component<\r\n\tIThemeSelectionProps,\r\n\tIThemeSelectionState\r\n> {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={`theme-root theme-root-${this.props.theme}`}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: \"36px\",\r\n\t\t\t\t\tright: \"112px\",\r\n\t\t\t\t\theight: \"32px\",\r\n\t\t\t\t\twidth: \"94px\"\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"theme theme-darktheme\"\r\n\t\t\t\t\tonClick={() => this.props.setTheme(\"dark\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"theme theme-pinktheme\"\r\n\t\t\t\t\tonClick={() => this.props.setTheme(\"pink\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"theme theme-lighttheme\"\r\n\t\t\t\t\tonClick={() => this.props.setTheme(\"light\")}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\n\nimport WindowComponent, { Window } from \"./components/Window\";\nimport CreateWindow from \"./components/CreateWindow\";\nimport Menu from \"./components/Menu\";\nimport ThemeSelection from \"./components/ThemeSelection\";\n\nimport {\n\tMIN_WINDOW_WIDTH,\n\tMIN_WINDOW_HEIGHT,\n\tSAVE_KEY,\n\tSAVE_HISTORY_KEY,\n\tKEYPRESS_HISTORY_INTERVAL_MS,\n\tSAVE_THEME_KEY\n} from \"./constants\";\n\nimport \"./css/App.css\";\nimport \"./css/AppTheme.css\";\n\ninterface IAppProps {}\n\ninterface IAppState {\n\twindows: Window[];\n\thistory: Window[][];\n\n\twindow_event: {\n\t\tevent: \"move\" | \"resize\" | \"none\";\n\t\toffset_x: number;\n\t\toffset_y: number;\n\t\tid: number;\n\t\toriginal: Window[] | null;\n\t};\n\n\tcreate: {\n\t\tcreating: boolean;\n\t\tstart_x: number;\n\t\tstart_y: number;\n\t\twidth: number;\n\t\theight: number;\n\t};\n\n\tshow_theme_selection: boolean;\n\ttheme: string;\n}\n\nexport default class App extends Component<IAppProps, IAppState> {\n\tprivate lastKeypressTimeTitle: number = 0;\n\tprivate windowsFirstKeypressTitle: Window[] = [];\n\tprivate titleTimeout: NodeJS.Timeout | null = null;\n\n\tprivate lastKeypressTimeText: number = 0;\n\tprivate windowsFirstKeypressText: Window[] = [];\n\tprivate textTimeout: NodeJS.Timeout | null = null;\n\n\tconstructor(props: any) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\twindows: [],\n\t\t\thistory: [],\n\n\t\t\twindow_event: {\n\t\t\t\tevent: \"none\",\n\t\t\t\toffset_x: 0,\n\t\t\t\toffset_y: 0,\n\t\t\t\tid: -1,\n\t\t\t\toriginal: null\n\t\t\t},\n\n\t\t\tcreate: {\n\t\t\t\tcreating: false,\n\t\t\t\tstart_x: -1,\n\t\t\t\tstart_y: -1,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t},\n\n\t\t\tshow_theme_selection: false,\n\t\t\ttheme: \"dark\"\n\t\t};\n\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleMouseUp = this.handleMouseUp.bind(this);\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.onMouseDownWindowHeader = this.onMouseDownWindowHeader.bind(this);\n\n\t\tthis.onTextChange = this.onTextChange.bind(this);\n\t\tthis.onTitleChange = this.onTitleChange.bind(this);\n\t\tthis.onCloseClick = this.onCloseClick.bind(this);\n\t\tthis.onFocusReceived = this.onFocusReceived.bind(this);\n\n\t\tthis.onLockUnlockPosition = this.onLockUnlockPosition.bind(this);\n\t\tthis.onLockUnlockSize = this.onLockUnlockSize.bind(this);\n\n\t\tthis.undo = this.undo.bind(this);\n\t\tthis.createWindow = this.createWindow.bind(this);\n\t\tthis.createHelpWindow = this.createHelpWindow.bind(this);\n\n\t\tthis.toggleThemeSelection = this.toggleThemeSelection.bind(this);\n\t\tthis.setTheme = this.setTheme.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tlet windows = localStorage.getItem(SAVE_KEY);\n\t\tif (windows !== null) {\n\t\t\tlet windowObj = JSON.parse(windows);\n\t\t\tif (windowObj.length === 0) {\n\t\t\t\tthis.createHelpWindow();\n\t\t\t} else {\n\t\t\t\tthis.setState({ windows: windowObj });\n\t\t\t}\n\t\t} else {\n\t\t\tthis.createHelpWindow();\n\t\t}\n\n\t\tlet history = localStorage.getItem(SAVE_HISTORY_KEY);\n\t\tif (history !== null) {\n\t\t\tthis.setState({ history: JSON.parse(history) });\n\t\t}\n\n\t\tlet theme = localStorage.getItem(SAVE_THEME_KEY);\n\t\tif (theme !== null) {\n\t\t\tthis.setState({ theme });\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.save();\n\t}\n\n\thandleMouseDown(e: any) {\n\t\tif (this.state.window_event.event === \"none\") {\n\t\t\tlet create = this.state.create;\n\n\t\t\tcreate.creating = true;\n\t\t\tcreate.start_x = e.clientX;\n\t\t\tcreate.start_y = e.clientY;\n\n\t\t\tthis.setState({ create });\n\t\t}\n\t}\n\n\thandleMouseUp() {\n\t\tif (this.state.window_event.event !== \"none\") {\n\t\t\tlet event = this.state.window_event;\n\n\t\t\tif (\n\t\t\t\tJSON.stringify(this.state.windows) !==\n\t\t\t\tJSON.stringify(event.original)\n\t\t\t) {\n\t\t\t\tthis.pushWindowsToHistory(event.original as Window[]);\n\t\t\t}\n\n\t\t\tevent.id = -1;\n\t\t\tevent.event = \"none\";\n\t\t\tevent.offset_x = 0;\n\t\t\tevent.offset_y = 0;\n\t\t\tevent.original = null;\n\n\t\t\tthis.setState({ window_event: event });\n\t\t\tthis.save();\n\t\t}\n\n\t\tif (this.state.create.creating) {\n\t\t\tlet create = this.state.create;\n\t\t\tlet windows = this.state.windows;\n\n\t\t\tif (\n\t\t\t\tMath.abs(create.width) >= MIN_WINDOW_WIDTH &&\n\t\t\t\tMath.abs(create.height) >= MIN_WINDOW_HEIGHT\n\t\t\t) {\n\t\t\t\tlet x = create.start_x;\n\t\t\t\tlet width = create.width;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx += width;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\n\t\t\t\tlet y = create.start_y;\n\t\t\t\tlet height = create.height;\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty += height;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\n\t\t\t\tthis.createWindow(\"New Pin\", \"\", x, y, width, height);\n\t\t\t}\n\n\t\t\tcreate.creating = false;\n\t\t\tcreate.start_x = -1;\n\t\t\tcreate.start_y = -1;\n\t\t\tcreate.width = 0;\n\t\t\tcreate.height = 0;\n\n\t\t\tthis.setState({ create, windows });\n\t\t\tthis.saveWindows(windows);\n\t\t}\n\t}\n\n\thandleMouseMove(e: any) {\n\t\tif (this.state.window_event.event === \"move\") {\n\t\t\tlet event = this.state.window_event;\n\t\t\tlet windows = this.state.windows;\n\t\t\tlet id = event.id;\n\t\t\tlet index = windows.indexOf(windows.filter(x => x.id === id)[0]);\n\n\t\t\twindows[index].x = e.clientX - event.offset_x;\n\t\t\twindows[index].y = e.clientY - event.offset_y;\n\n\t\t\tthis.setState({ windows });\n\t\t}\n\n\t\tif (this.state.window_event.event === \"resize\") {\n\t\t\tlet event = this.state.window_event;\n\t\t\tlet windows = this.state.windows;\n\t\t\tlet id = event.id;\n\t\t\tlet index = windows.indexOf(windows.filter(x => x.id === id)[0]);\n\n\t\t\twindows[index].width = Math.max(\n\t\t\t\te.clientX - windows[index].x - event.offset_x,\n\t\t\t\tMIN_WINDOW_WIDTH\n\t\t\t);\n\t\t\twindows[index].height = Math.max(\n\t\t\t\te.clientY - windows[index].y - event.offset_y,\n\t\t\t\tMIN_WINDOW_HEIGHT\n\t\t\t);\n\n\t\t\tthis.setState({ windows });\n\t\t}\n\n\t\tif (this.state.create.creating) {\n\t\t\tlet create = this.state.create;\n\n\t\t\tcreate.width = e.clientX - create.start_x;\n\t\t\tcreate.height = e.clientY - create.start_y;\n\n\t\t\tthis.setState({ create });\n\t\t}\n\t}\n\n\tonMouseDownWindowHeader(\n\t\tid: number,\n\t\tstartX: number,\n\t\tstartY: number,\n\t\tevent: \"move\" | \"resize\"\n\t) {\n\t\tlet window_event = this.state.window_event;\n\t\tlet windows = this.state.windows;\n\t\tlet index = windows.indexOf(windows.filter(x => x.id === id)[0]);\n\n\t\twindow_event.event = event;\n\t\twindow_event.id = id;\n\t\twindow_event.original = JSON.parse(JSON.stringify(windows));\n\n\t\tif (event === \"move\") {\n\t\t\twindow_event.offset_x = startX - windows[index].x;\n\t\t\twindow_event.offset_y = startY - windows[index].y;\n\t\t} else if (event === \"resize\") {\n\t\t\twindow_event.offset_x =\n\t\t\t\tstartX - windows[index].x - windows[index].width;\n\t\t\twindow_event.offset_y =\n\t\t\t\tstartY - windows[index].y - windows[index].height;\n\t\t}\n\n\t\tthis.moveToFrontByIndex(index);\n\t\tthis.setState({ window_event });\n\t}\n\n\tonTitleChange(id: number, newText: string) {\n\t\tlet windows = this.state.windows;\n\t\tlet index = windows.indexOf(windows.filter(x => x.id === id)[0]);\n\n\t\tthis.lastKeypressTimeTitle = Date.now();\n\t\tif (this.titleTimeout === null) {\n\t\t\tthis.windowsFirstKeypressTitle = JSON.parse(\n\t\t\t\tJSON.stringify(windows)\n\t\t\t);\n\t\t} else {\n\t\t\tclearTimeout(this.titleTimeout);\n\t\t}\n\n\t\tthis.titleTimeout = setTimeout(\n\t\t\tthis.pushWindowsToHistoryTime.bind(\n\t\t\t\tthis,\n\t\t\t\tthis.windowsFirstKeypressTitle,\n\t\t\t\t\"title\"\n\t\t\t),\n\t\t\tKEYPRESS_HISTORY_INTERVAL_MS\n\t\t);\n\n\t\twindows[index].title = newText;\n\n\t\tthis.saveWindows(windows);\n\t\tthis.setState({ windows });\n\t}\n\n\tonTextChange(id: number, newText: string) {\n\t\tlet windows = this.state.windows;\n\t\tlet index = windows.indexOf(windows.filter(x => x.id === id)[0]);\n\n\t\tthis.lastKeypressTimeText = Date.now();\n\t\tif (this.textTimeout === null) {\n\t\t\tthis.windowsFirstKeypressText = JSON.parse(JSON.stringify(windows));\n\t\t} else {\n\t\t\tclearTimeout(this.textTimeout);\n\t\t}\n\n\t\tthis.textTimeout = setTimeout(\n\t\t\tthis.pushWindowsToHistoryTime.bind(\n\t\t\t\tthis,\n\t\t\t\tthis.windowsFirstKeypressText,\n\t\t\t\t\"text\"\n\t\t\t),\n\t\t\tKEYPRESS_HISTORY_INTERVAL_MS\n\t\t);\n\n\t\twindows[index].text = newText;\n\n\t\tthis.saveWindows(windows);\n\t\tthis.setState({ windows });\n\t}\n\n\tonFocusReceived(id: number) {\n\t\tthis.moveToFront(id);\n\t}\n\n\tonCloseClick(id: number) {\n\t\tthis.pushToHistory();\n\n\t\tlet windows = this.state.windows;\n\t\tlet index = windows.indexOf(windows.filter(x => x.id === id)[0]);\n\n\t\twindows.splice(index, 1);\n\n\t\tthis.saveWindows(windows);\n\t\tthis.setState({ windows });\n\t}\n\n\tonLockUnlockPosition(id: number) {\n\t\tthis.pushToHistory();\n\n\t\tlet windows = this.state.windows;\n\t\tlet index = windows.indexOf(windows.filter(x => x.id === id)[0]);\n\n\t\twindows[index].pos_lock = !windows[index].pos_lock;\n\n\t\tthis.saveWindows(windows);\n\t\tthis.moveToFrontByIndex(index);\n\t}\n\n\tonLockUnlockSize(id: number) {\n\t\tthis.pushToHistory();\n\n\t\tlet windows = this.state.windows;\n\t\tlet index = windows.indexOf(windows.filter(x => x.id === id)[0]);\n\n\t\twindows[index].size_lock = !windows[index].size_lock;\n\n\t\tthis.saveWindows(windows);\n\t\tthis.moveToFrontByIndex(index);\n\t}\n\n\tmoveToFront(id: number) {\n\t\tlet windows = this.state.windows;\n\t\tlet filterWindows = windows.filter(x => x.id === id);\n\t\tif (filterWindows.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet index = windows.indexOf(filterWindows[0]);\n\t\twindows.push(windows.splice(index, 1)[0]);\n\n\t\tthis.setState({ windows });\n\t}\n\n\tmoveToFrontByIndex(index: number) {\n\t\tlet windows = this.state.windows;\n\n\t\twindows.push(windows.splice(index, 1)[0]);\n\t\tthis.setState({ windows });\n\t}\n\n\tcreateHelpWindow() {\n\t\tthis.createWindow(\n\t\t\t\"Pinboard Help\",\n\t\t\t\"Pinboard is a not taking app that allows you to draw new windows to take notes in. \" +\n\t\t\t\t\"Click on the windows title to rename the window or click on the window \" +\n\t\t\t\t\"body to type in the note. Click and drag your mouse anywhere else \" +\n\t\t\t\t\"to create a new window. Drag from a window's lower right corner to resize \" +\n\t\t\t\t\"your window or click and drag in the window title to move it around. \" +\n\t\t\t\t\"Right click on a window to lock the size or position and then right click again \" +\n\t\t\t\t\"to unlock it. All changes are saved to local storage so \" +\n\t\t\t\t\"all your notes will be kept even when you close the window.\\n\\n\" +\n\t\t\t\t\"Click on the palette icon to change Pinboard's theme or the undo button \" +\n\t\t\t\t\"to undo the most recent changes you've made.\\n\\nFind a bug? Let me know! \" +\n\t\t\t\t\"Send me an email to cmilby99@gmail.com or see the code yourself at \" +\n\t\t\t\t\"http://github.com/CMilby/Pinboard and file an issue.\",\n\t\t\t50,\n\t\t\t50,\n\t\t\t600,\n\t\t\t265\n\t\t);\n\t}\n\n\tcreateWindow(\n\t\ttitle: string,\n\t\ttext: string,\n\t\tx: number,\n\t\ty: number,\n\t\twidth: number,\n\t\theight: number\n\t) {\n\t\tthis.pushToHistory();\n\n\t\tlet windows = this.state.windows;\n\n\t\twindows.push({\n\t\t\tid: Date.now(),\n\t\t\tx,\n\t\t\ty,\n\t\t\twidth,\n\t\t\theight,\n\t\t\ttitle,\n\t\t\ttext,\n\t\t\tpos_lock: false,\n\t\t\tsize_lock: false\n\t\t});\n\n\t\tthis.saveWindows(windows);\n\t\tthis.setState({ windows });\n\t}\n\n\tundo() {\n\t\tlet history = this.state.history;\n\t\tif (history.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet mostRecent = history.pop() as Window[];\n\t\tthis.setState({ windows: mostRecent, history });\n\n\t\tthis.saveWindows(mostRecent);\n\t\tlocalStorage.setItem(SAVE_HISTORY_KEY, JSON.stringify(history));\n\t}\n\n\tpushToHistory() {\n\t\tlet history = this.state.history;\n\t\tlet windows = this.state.windows;\n\n\t\thistory.push(JSON.parse(JSON.stringify(windows)));\n\n\t\tthis.setState({ history });\n\t\tlocalStorage.setItem(SAVE_HISTORY_KEY, JSON.stringify(history));\n\t}\n\n\tpushWindowsToHistory(windows: Window[]) {\n\t\tlet history = this.state.history;\n\t\thistory.push(windows);\n\n\t\tthis.setState({ history });\n\t\tlocalStorage.setItem(SAVE_HISTORY_KEY, JSON.stringify(history));\n\t}\n\n\tpushWindowsToHistoryTime(windows: Window[], timeout: \"title\" | \"text\") {\n\t\tif (timeout === \"title\") {\n\t\t\tif (\n\t\t\t\tthis.lastKeypressTimeTitle + KEYPRESS_HISTORY_INTERVAL_MS >\n\t\t\t\tDate.now()\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.titleTimeout = null;\n\t\t} else if (timeout === \"text\") {\n\t\t\tif (\n\t\t\t\tthis.lastKeypressTimeText + KEYPRESS_HISTORY_INTERVAL_MS >\n\t\t\t\tDate.now()\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.textTimeout = null;\n\t\t}\n\n\t\tlet history = this.state.history;\n\t\thistory.push(windows);\n\n\t\tthis.setState({ history });\n\t\tlocalStorage.setItem(SAVE_HISTORY_KEY, JSON.stringify(history));\n\t}\n\n\tsave() {\n\t\tlocalStorage.setItem(SAVE_KEY, JSON.stringify(this.state.windows));\n\t}\n\n\tsaveWindows(windows: Window[]) {\n\t\tlocalStorage.setItem(SAVE_KEY, JSON.stringify(windows));\n\t}\n\n\ttoggleThemeSelection() {\n\t\tthis.setState(prevState => ({\n\t\t\tshow_theme_selection: !prevState.show_theme_selection\n\t\t}));\n\t}\n\n\tsetTheme(theme: string) {\n\t\tthis.setState({ theme });\n\n\t\tlocalStorage.setItem(SAVE_THEME_KEY, theme);\n\t}\n\n\trender() {\n\t\tlet windows = this.state.windows.map(\n\t\t\t(window: Window, index: number) => {\n\t\t\t\treturn (\n\t\t\t\t\t<WindowComponent\n\t\t\t\t\t\tkey={`window_${window.id}`}\n\t\t\t\t\t\twindow={window}\n\t\t\t\t\t\ttheme={this.state.theme}\n\t\t\t\t\t\tonMouseDown={this.onMouseDownWindowHeader}\n\t\t\t\t\t\tonTextAreaChange={this.onTextChange}\n\t\t\t\t\t\tonTitleChange={this.onTitleChange}\n\t\t\t\t\t\tonCloseClick={this.onCloseClick}\n\t\t\t\t\t\tonLockUnlockPosition={this.onLockUnlockPosition}\n\t\t\t\t\t\tonLockUnlockSize={this.onLockUnlockSize}\n\t\t\t\t\t\tonFocusRecieved={this.onFocusReceived}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\n\t\tlet create = (\n\t\t\t<CreateWindow\n\t\t\t\tx={this.state.create.start_x}\n\t\t\t\ty={this.state.create.start_y}\n\t\t\t\twidth={this.state.create.width}\n\t\t\t\theight={this.state.create.height}\n\t\t\t/>\n\t\t);\n\n\t\tlet themeSelection = (\n\t\t\t<ThemeSelection theme={this.state.theme} setTheme={this.setTheme} />\n\t\t);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`app-root app-root-${this.state.theme} no-select`}\n\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tonMouseUp={this.handleMouseUp}\n\t\t\t>\n\t\t\t\t{windows}\n\t\t\t\t{this.state.create.creating && create}\n\t\t\t\t<Menu\n\t\t\t\t\thistorySize={this.state.history.length}\n\t\t\t\t\ttheme={this.state.theme}\n\t\t\t\t\tcreateWindow={this.createWindow}\n\t\t\t\t\tcreateHelpWindow={this.createHelpWindow}\n\t\t\t\t\tonUndo={this.undo}\n\t\t\t\t\ttoggleThemeSelection={this.toggleThemeSelection}\n\t\t\t\t/>\n\t\t\t\t{this.state.show_theme_selection && themeSelection}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === \"localhost\" ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === \"[::1]\" ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener(\"load\", () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\n\t\t\t\t\t\t\t\"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { \"Service-Worker\": \"script\" }\n\t})\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null &&\n\t\t\t\t\tcontentType.indexOf(\"javascript\") === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif (\"serviceWorker\" in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./css/index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}